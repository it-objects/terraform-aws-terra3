# ---------------------------------------------------------------------------------------------------------------------
# Determine security groups
# ---------------------------------------------------------------------------------------------------------------------
data "aws_security_group" "bastion_host_ssm_sg" {
  name = "${var.environment_name}_bastion_host_ssm_sg"
}

# ---------------------------------------------------------------------------------------------------------------------
# fetch latest amazon image with arm architecture
# ---------------------------------------------------------------------------------------------------------------------

data "aws_ami" "amazon-linux" {
  most_recent = true
  owners      = ["amazon"]

  filter {
    name   = "name"
    values = ["al2023-ami-2023.*-kernel-6.1-arm64"]
  }
}
